<!--File: admin_dashboard-manage_accounts.hbs-->
<!--Authors: Alex Antaki, Matthew Oakley, Alex Mahlmeister, Raislan Aiken, and Jaspreet Singh-->
<!--Date: 11/10/2019-->
<!--Description: This is the body of the admin_dashboard_manage_accounts page-->
<div style="margin-top: 30px;margin-bottom: 50px;">
      <div class="container-fluid">
          <div class="row">
              <!--This is the welcome message for the admin-->
              <div class="col-md-12 offset-xl-1" style="margin-top: 25px;height: 90px;margin-bottom: 10px;">
                  <h1 id="welcomeName" style="color: rgb(133,135,150);font-size: 35px;"><strong>Hi There, {{userInfo.firstname}}!</strong></h1>
              </div>
          </div>
          <!--This is the nav bar that has the dashboard, manage inventory, manage orders, manage accounts-->
          <div class="row justify-content-center align-items-center" style="height: 100%;">
              <div class="col-auto col-sm-11 col-md-9 col-lg-9 col-xl-11 text-break text-center align-self-center m-auto" style="padding: 5px;padding-left: 40px;">
                  <div class="card">
                      <div class="card-header">
                          <ul class="nav nav-tabs card-header-tabs">
                              <li class="nav-item"><a class="nav-link" href="/login" style="font-size: 20px;">Dashboard</a></li>
                              <li class="nav-item"><a class="nav-link" href="/admin_dashboard/manage_inventory" style="font-size: 20px;">Manage Inventory</a></li>
                              <li class="nav-item"><a class="nav-link" href="/admin_dashboard/manage_orders" style="font-size: 20px;">Manage Order(s)</a></li>
                              <li class="nav-item"><a class="nav-link active" href="/admin_dashboard/manage_accounts" style="font-size: 20px;">Manage Accounts</a></li>
                          </ul>
                      </div>
                      <!--This is the manage accounts section-->
                      <div class="card-body">
                          <h4 class="card-title" style="font-size: 28px;margin-top: 20px;">Manage Accounts</h4>
                          <a href = "/admin_dashboard/manage_accounts/create_account"><button style = "margin-top: -52px; float: right" class="btn btn-primary" id="createAccount">Create an Account!!</button></a></div>

                          <div class="col align-self-center m-auto">
                              <div class="table-responsive" style="margin-top: 40px;padding: 10px;">

                                  <!--This is the table holding the account info-->
                                  <table class="table table-hover">
                                      <thead>
                                          <tr>
                                              <th>ID</th>
                                              <th>First Name</th>
                                              <th>Last Name</th>
                                              <th>E-Mail</th>
                                              <th>City</th>
                                              <th>State</th>
                                          </tr>
                                      </thead>
                                      <tbody>
                                          <tr>
                                              <td>Cell 1</td>
                                              <td>Cell 2</td>
                                              <td>Cell 2</td>
                                              <td>Cell 2</td>
                                              <td>Cell 5</td>
                                              <td>Cell 6</td>
                                          </tr>
                                          <tr>
                                              <td>Cell 3</td>
                                              <td>Cell 4</td>
                                              <td>Cell 4</td>
                                              <td>Cell 4</td>
                                              <td>Cell 5</td>
                                              <td>Cell 6</td>
                                          </tr>
                                          <tr>
                                              <td>Cell 3</td>
                                              <td>Cell 4</td>
                                              <td>Cell 4</td>
                                              <td>Cell 4</td>
                                              <td>Cell 5</td>
                                              <td>Cell 6</td>
                                          </tr>
                                          <tr>
                                              <td>Cell 3</td>
                                              <td>Cell 4</td>
                                              <td>Cell 4</td>
                                              <td>Cell 4</td>
                                              <td>Cell 5</td>
                                              <td>Cell 6</td>
                                          </tr>
                                          <tr>
                                              <td>Cell 3</td>
                                              <td>Cell 4</td>
                                              <td>Cell 4</td>
                                              <td>Cell 4</td>
                                              <td>Cell 5</td>
                                              <td>Cell 6</td>
                                          </tr>
                                          <tr>
                                              <td>Cell 3</td>
                                              <td>Cell 4</td>
                                              <td>Cell 4</td>
                                              <td>Cell 4</td>
                                              <td>Cell 5</td>
                                              <td>Cell 6</td>
                                          </tr>
                                          <tr>
                                              <td>Cell 3</td>
                                              <td>Cell 4</td>
                                              <td>Cell 4</td>
                                              <td>Cell 4</td>
                                              <td>Cell 5</td>
                                              <td>Cell 6</td>
                                          </tr>
                                          <tr>
                                              <td>Cell 3</td>
                                              <td>Cell 4</td>
                                              <td>Cell 4</td>
                                              <td>Cell 4</td>
                                              <td>Cell 5</td>
                                              <td>Cell 6</td>
                                          </tr>
                                          <tr>
                                              <td>Cell 3</td>
                                              <td>Cell 4</td>
                                              <td>Cell 4</td>
                                              <td>Cell 4</td>
                                              <td>Cell 5</td>
                                              <td>Cell 6</td>
                                          </tr>
                                          <tr>
                                              <td>Cell 3</td>
                                              <td>Cell 4</td>
                                              <td>Cell 4</td>
                                              <td>Cell 4</td>
                                              <td>Cell 5</td>
                                              <td>Cell 6</td>
                                          </tr>
                                      </tbody>
                                  </table>

                              </div>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
      </div>
  </div>

<!--This is the logout button-->
<input type=button value="logout" onClick="eraseCookie()"/>
<!-- <h2> ADMIN ACCOUNT ACCOUNTS PAGE!!!! </h2>
<h2> THEY DO!!!! üêêüêêüêêüêêüêêüêêüêêüêê </h2>
<h2> {{email}} </h2>

<ul>
  <li> <a href="/admin_dashboard"> Main </a> </li>
  <li> <a href="/admin_dashboard/manage_inventory"> Manage Inventory </a> </li>
  <li> <a href="/admin_dashboard/manage_orders"> Manage Orders </a> </li>
  <li> <a href="/admin_dashboard/manage_accounts"> Manage Accounts </a> </li>
</ul>
<ul>
  <li> <a href="/admin_dashboard/manage_accounts/create_account"> Create Accounts </a> </li>
</ul>
<h1> START ACCOUNTS </h1>
<table>
<tr>
  <td> aid </td>
  <td> firstname </td>
  <td> lastname </td>
  <td> address </td>
  <td> city </td>
  <td> zip </td>
  <td> email </td>
  <td> phone number </td>
  <td> username </td>
  <td> creationdate </td>
  <td> updateddate </td>
  <td> isadmin </td>

</tr>
{{#each accounts}}
<tr>
  <td> <a href="/admin_dashboard/manage_accounts/sub_account/{{aid}}">{{aid}}</a></td>
  <td>{{firstname}}</td>
  <td>{{lastname}}</td>
  <td>{{address}}</td>
  <td>{{city}}</td>
  <td>{{zip}}</td>
  <td>{{email}}</td>
  <td>{{phonenumber}}</td>
  <td>{{username}}</td>
  <td>{{creationdate}}</td>
  <td>{{updateddate}}</td>
  <td>{{isadmin}}</td>
</tr>
{{/each}}
</table>
<h1> END ACCOUNTS </h1> -->

<script> function eraseCookie() {
  // make the api call
  fetch("/api/logout",
    {method: "POST",
      headers: {
        "Accept": "application/json",
        "Content-Type": "application/json"
      },
    })
    .then(function(response) {
      if (response.status !== 200) {
        alert("Logout failed. Try again.");
        location.reload(true);
        return
      } else {
        // send to a webpage
        location.reload(true);
        return;
      }
    });
}

</script>
